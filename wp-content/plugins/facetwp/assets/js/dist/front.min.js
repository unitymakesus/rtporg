var FWP_Build=(function(e,t){"use strict";e.wp=e.wp||{},e.wp.hooks=e.wp.hooks||new function(){function e(e,t,a,c){var o,s,i;if(n[e][t])if(a)if(o=n[e][t],c)for(i=o.length;i--;)(s=o[i]).callback===a&&s.context===c&&o.splice(i,1);else for(i=o.length;i--;)o[i].callback===a&&o.splice(i,1);else n[e][t]=[]}function t(e,t,a,c,o){var s={callback:a,priority:c,context:o},i=n[e][t];i?(i.push(s),i=function(e){for(var t,a,c,o=1,n=e.length;o<n;o++){for(t=e[o],a=o;(c=e[a-1])&&c.priority>t.priority;)e[a]=e[a-1],--a;e[a]=t}return e}(i)):i=[s],n[e][t]=i}function a(e,t,a){var c,o,s=n[e][t];if(!s)return"filters"===e&&a[0];if(o=s.length,"filters"===e)for(c=0;c<o;c++)a[0]=s[c].callback.apply(s[c].context,a);else for(c=0;c<o;c++)s[c].callback.apply(s[c].context,a);return"filters"!==e||a[0]}var c=Array.prototype.slice,o={removeFilter:function(t,a){return"string"==typeof t&&e("filters",t,a),o},applyFilters:function(){var e=c.call(arguments),t=e.shift();return"string"==typeof t?a("filters",t,e):o},addFilter:function(e,a,c,n){return"string"==typeof e&&"function"==typeof a&&t("filters",e,a,c=parseInt(c||10,10),n),o},removeAction:function(t,a){return"string"==typeof t&&e("actions",t,a),o},doAction:function(){var e=c.call(arguments),t=e.shift();return"string"==typeof t&&a("actions",t,e),o},addAction:function(e,a,c,n){return"string"==typeof e&&"function"==typeof a&&t("actions",e,a,c=parseInt(c||10,10),n),o}},n={actions:{},filters:{}};return o}}(window),window.FWP=window.FWP||{},function(e){var t={facets:{},template:null,settings:{},is_reset:!1,is_refresh:!1,is_bfcache:!1,auto_refresh:!0,soft_refresh:!1,static_facet:null,used_facets:{},facet_type:{},loaded:!1,jqXHR:!1,extras:{},helper:{},paged:1};for(var a in t)void 0===FWP[a]&&(FWP[a]=t[a]);e(window).on("load",function(){setTimeout(function(){e(window).on("popstate",function(){FWP.is_bfcache&&(FWP.loaded=!1),!FWP.loaded&&!FWP.is_bfcache||FWP.is_refresh||(FWP.is_popstate=!0,FWP.refresh(),FWP.is_popstate=!1)})},0)}),FWP.helper.get_url_var=function(e){e=FWP_JSON.prefix+e;for(var t=FWP.build_query_string().split("&"),a=0;a<t.length;a++){var c=t[a].split("=");if(c[0]===e)return c[1]}return!1},FWP.helper.serialize=function(e,t){var a=[];t=void 0!==t?t:"";for(var c in e)""!=e[c]&&a.push(t+encodeURIComponent(c)+"="+encodeURIComponent(e[c]));return a.join("&")},FWP.helper.escape_html=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]}).trim()},FWP.helper.detect_loop=function(e){for(var t=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,FWP.helper.node_filter,!1);curNode=t.nextNode();)if(8===curNode.nodeType&&"fwp-loop"===curNode.nodeValue)return curNode.parentNode;return!1},FWP.helper.node_filter=function(){return NodeFilter.FILTER_ACCEPT},FWP.autoload=function(){FWP.auto_refresh&&!FWP.is_refresh&&FWP.refresh()},FWP.refresh=function(){FWP.is_refresh=!0,FWP.is_reset||FWP.parse_facets(),FWP.loaded||FWP.load_from_hash(),e(document).trigger("facetwp-refresh"),FWP.loaded&&!FWP.is_popstate&&FWP.set_hash(),FWP.loaded||FWP.is_bfcache||void 0===FWP_JSON.preload_data?FWP.fetch_data():FWP.render(FWP_JSON.preload_data),FWP.paged=1,FWP.static_facet=null,FWP.soft_refresh=!1,FWP.is_refresh=!1,FWP.is_reset=!1},FWP.parse_facets=function(){FWP.facets={},e(".facetwp-facet").each(function(){var t=e(this),a=t.attr("data-name"),c=t.attr("data-type");FWP.facet_type[a]=c,wp.hooks.doAction("facetwp/refresh/"+c,t,a);var o=!0;FWP.loaded&&(FWP.soft_refresh||a===FWP.static_facet||void 0!==FWP.used_facets[a])&&(o=!1),o&&FWP.loading_handler({element:t,facet_name:a,facet_type:c})}),1<FWP.paged&&(FWP.facets.paged=FWP.paged),FWP.extras.per_page&&"default"!==FWP.extras.per_page&&(FWP.facets.per_page=FWP.extras.per_page),FWP.extras.sort&&"default"!==FWP.extras.sort&&(FWP.facets.sort=FWP.extras.sort)},FWP.loading_handler=function(t){if("fade"==FWP_JSON.loading_animation){if(!FWP.loaded){var a=t.element;e(document).on("facetwp-refresh",function(){a.prepend('<div class="facetwp-overlay">'),a.find(".facetwp-overlay").css({width:a.width(),height:a.height()})}),e(document).on("facetwp-loaded",function(){a.find(".facetwp-overlay").remove()})}}else""==FWP_JSON.loading_animation&&t.element.html('<div class="facetwp-loading"></div>')},FWP.build_query_string=function(){var t="",a=[],c=window.location.search.replace("?","").split("&");e.each(c,function(e,t){0!==t.split("=")[0].indexOf(FWP_JSON.prefix)&&a.push(t)}),a=a.join("&");var o=FWP.helper.serialize(FWP.facets,FWP_JSON.prefix);return""!==a&&(t+=a),""!==o&&(t+=(""!==a?"&":"")+o),t},FWP.set_hash=function(){var e=FWP.build_query_string();""!==e&&(e="?"+e),history.pushState&&history.pushState(null,null,window.location.pathname+e),FWP_HTTP.get={},window.location.search.replace("?","").split("&").forEach(function(e){var t=e.split("=");FWP_HTTP.get[t[0]]=t[1]})},FWP.load_from_hash=function(){var t=[],a=window.location.search.replace("?","").split("&");e.each(a,function(e,a){0===a.split("=")[0].indexOf(FWP_JSON.prefix)&&t.push(a.replace(FWP_JSON.prefix,""))}),t=t.join("&"),e.each(FWP.facets,function(e){FWP.facets[e]=[]}),FWP.paged=1,FWP.extras.sort="default",""!==t&&(t=t.split("&"),e.each(t,function(e,t){var a=t.split("=")[0],c=t.split("=")[1];if("paged"===a)FWP.paged=c;else if("per_page"===a)FWP.extras.per_page=c;else if("sort"===a)FWP.extras.sort=c;else if(""!==c){var o=void 0!==FWP.facet_type[a]?FWP.facet_type[a]:"";FWP.facets[a]="search"===o||"autocomplete"===o?decodeURIComponent(c):decodeURIComponent(c).split(",")}}))},FWP.fetch_data=function(){FWP.jqXHR&&4!==FWP.jqXHR.readyState&&FWP.jqXHR.abort();var t="wp"===FWP.template?document.URL:FWP_JSON.ajaxurl;FWP.jqXHR=e.ajax(t,{type:"POST",dataType:"text",data:{action:"facetwp_refresh",data:{facets:JSON.stringify(FWP.facets),static_facet:FWP.static_facet,used_facets:FWP.used_facets,http_params:FWP_HTTP,template:FWP.template,extras:FWP.extras,soft_refresh:FWP.soft_refresh?1:0,is_bfcache:FWP.is_bfcache?1:0,first_load:FWP.loaded?0:1,paged:FWP.paged}},success:function(t){try{var a=e.parseJSON(t);FWP.render(a)}catch(n){var c=t.indexOf('{"facets');if(-1<c){var o=t.substr(0,c);a=e.parseJSON(t.substr(c));FWP.render(a),console.log(o)}else e(".facetwp-template").text("FacetWP was unable to auto-detect the post listing"),console.log(t)}}})},FWP.render=function(t){if("wp"!==FWP.template&&""!==t.template||FWP.loaded||FWP.is_bfcache){n=t.template;if("wp"===FWP.template){var a=e(t.template).find(".facetwp-template");if(1>a.length){var c=document.createElement("div");c.innerHTML=t.template;var o=FWP.helper.detect_loop(c);o&&(a=e(o).addClass("facetwp-template"))}if(0<a.length)n=a.html();else n=FWP_JSON.no_results_text}}else var n=!1;!1!==n&&(wp.hooks.applyFilters("facetwp/template_html",!1,{response:t,html:n})||e(".facetwp-template").html(n)),e.each(t.facets,function(t,a){e(".facetwp-facet-"+t).html(a)}),void 0!==t.counts&&e(".facetwp-counts").html(t.counts),void 0!==t.pager&&e(".facetwp-pager").html(t.pager),void 0!==t.per_page&&(e(".facetwp-per-page").html(t.per_page),"default"!==FWP.extras.per_page&&e(".facetwp-per-page-select").val(FWP.extras.per_page)),void 0!==t.sort&&(e(".facetwp-sort").html(t.sort),e(".facetwp-sort-select").val(FWP.extras.sort)),e.each(t.settings,function(e,t){FWP.settings[e]=t}),"function"==typeof WPPlaylistView&&e(".facetwp-template .wp-playlist").each(function(){return new WPPlaylistView({el:this})}),e(document).trigger("facetwp-loaded"),wp.hooks.doAction("facetwp/loaded"),FWP.is_bfcache=!0,FWP.loaded=!0},FWP.reset=function(t){FWP.parse_facets(),void 0!==t?(FWP.facets[t]=[],void 0!==FWP.used_facets&&delete FWP.used_facets[t]):(e.each(FWP.facets,function(e){FWP.facets[e]=[]}),FWP.extras.sort="default",FWP.used_facets={}),FWP.is_reset=!0,FWP.refresh()},FWP.init=function(){0<e(".facetwp-sort").length&&(FWP.extras.sort="default"),0<e(".facetwp-pager").length&&(FWP.extras.pager=!0),0<e(".facetwp-per-page").length&&(FWP.extras.per_page="default"),0<e(".facetwp-counts").length&&(FWP.extras.counts=!0),0<e(".facetwp-selections").length&&(FWP.extras.selections=!0);if(!(e(".facetwp-template").length>0)){var t=FWP.helper.detect_loop(document.body);if(!t)return;e(t).addClass("facetwp-template")}var a=e(".facetwp-template:first");FWP.template=a.is("[data-name]")?a.attr("data-name"):"wp",0<a.find(".facetwp-facet").length&&console.error('Facets should not be inside the "facetwp-template" container'),wp.hooks.doAction("facetwp/ready"),FWP.extras.selections&&wp.hooks.addAction("facetwp/loaded",function(){var t="";e.each(FWP.facets,function(a,c){if(c.length<1||void 0===FWP.settings.labels[a])return!0;var o=c,n=e(".facetwp-facet-"+a).attr("data-type");"string"==typeof(o=wp.hooks.applyFilters("facetwp/selections/"+n,o,{el:e(".facetwp-facet-"+a),selected_values:o}))?o=[{value:"",label:o}]:void 0===o[0].label&&(o=[{value:"",label:o[0]}]);var s="";e.each(o,function(e,t){s+='<span class="facetwp-selection-value" data-value="'+t.value+'">'+FWP.helper.escape_html(t.label)+"</span>"}),t+='<li data-facet="'+a+'"><span class="facetwp-selection-label">'+FWP.settings.labels[a]+":</span> "+s+"</li>"}),""!==t&&(t="<ul>"+t+"</ul>"),e(".facetwp-selections").html(t)}),e(document).on("click",".facetwp-selections .facetwp-selection-value",function(){if(!FWP.is_refresh){var t=e(this).closest("li").attr("data-facet"),a=e(this).attr("data-value");if(FWP.parse_facets(),FWP.is_reset=!0,""!=a){var c=FWP.facets[t],o=c.indexOf(a);-1<o&&(c.splice(o,1),FWP.facets[t]=c)}else FWP.facets[t]=[];void 0!==FWP.used_facets&&delete FWP.used_facets[t],delete FWP.facets.paged,FWP.refresh()}}),e(document).on("click",".facetwp-page",function(){e(".facetwp-page").removeClass("active"),e(this).addClass("active"),FWP.paged=e(this).attr("data-page"),FWP.soft_refresh=!0,FWP.refresh()}),e(document).on("change",".facetwp-per-page-select",function(){FWP.extras.per_page=e(this).val(),FWP.soft_refresh=!0,FWP.autoload()}),e(document).on("change",".facetwp-sort-select",function(){FWP.extras.sort=e(this).val(),FWP.soft_refresh=!0,FWP.autoload()}),FWP.refresh()},e(function(){FWP.init()})}(jQuery),function(e){function t(t,o){if("keydown"===t){var n=o;o=function(t){if(13===t.which&&0===e(".pac-container .pac-item-selected").length){var c=e.Event("keydown",{keyCode:40,which:40});n.apply(a,[c])}n.apply(a,[t])}}c.apply(a,[t,o])}e.fn.pVal=function(){var t=e(this).eq(0).val();return t===e(this).attr("placeholder")?"":t},wp.hooks.addAction("facetwp/refresh/autocomplete",function(e,t){var a=e.find(".facetwp-autocomplete").val()||"";FWP.facets[t]=a}),e(document).on("facetwp-loaded",function(){e(".facetwp-autocomplete").each(function(){var t=e(this);t.autocomplete({serviceUrl:FWP_JSON.ajaxurl,type:"POST",minChars:3,deferRequestBy:200,showNoSuggestionNotice:!0,noSuggestionNotice:FWP_JSON.no_results,params:{action:"facetwp_autocomplete_load",facet_name:t.closest(".facetwp-facet").attr("data-name")}})})}),e(document).on("keyup",".facetwp-autocomplete",function(e){13===e.which&&FWP.autoload()}),e(document).on("click",".facetwp-autocomplete-update",function(){FWP.autoload()}),wp.hooks.addAction("facetwp/refresh/checkboxes",function(t,a){var c=[];t.find(".facetwp-checkbox.checked").each(function(){c.push(e(this).attr("data-value"))}),FWP.facets[a]=c}),wp.hooks.addFilter("facetwp/selections/checkboxes",function(t,a){var c=[];return e.each(a.selected_values,function(e,t){var o=a.el.find('.facetwp-checkbox[data-value="'+t+'"]').clone();o.find(".facetwp-counter").remove(),o.find(".facetwp-expand").remove(),c.push({value:t,label:o.text()})}),c}),e(document).on("click",".facetwp-type-checkboxes .facetwp-expand",function(t){$wrap=e(this).parent(".facetwp-checkbox").next(".facetwp-depth"),$wrap.toggleClass("visible");var a=$wrap.hasClass("visible")?FWP_JSON.collapse:FWP_JSON.expand;e(this).text(a),t.stopPropagation()}),e(document).on("click",".facetwp-type-checkboxes .facetwp-checkbox:not(.disabled)",function(){e(this).toggleClass("checked"),FWP.autoload()}),e(document).on("click",".facetwp-type-checkboxes .facetwp-toggle",function(){var t=e(this).closest(".facetwp-facet");t.find(".facetwp-toggle").toggleClass("facetwp-hidden"),t.find(".facetwp-overflow").toggleClass("facetwp-hidden")}),e(document).on("facetwp-loaded",function(){e(".facetwp-type-checkboxes .facetwp-overflow").each(function(){var t=e(this).find(".facetwp-checkbox").length,a=e(this).siblings(".facetwp-toggle:first");a.text(a.text().replace("{num}",t))}),e(".facetwp-type-checkboxes").each(function(){var t=e(this),a=t.attr("data-name");Object.keys(FWP.settings).length<1||("yes"===FWP.settings[a].show_expanded&&t.find(".facetwp-depth").addClass("visible"),1>t.find(".facetwp-expand").length&&(t.find(".facetwp-depth").each(function(){var t=e(this).hasClass("visible")?"collapse":"expand";e(this).prev(".facetwp-checkbox").append(' <span class="facetwp-expand">'+FWP_JSON[t]+"</span>")}),t.find(".facetwp-checkbox.checked").each(function(){e(this).parents(".facetwp-depth").each(function(){e(this).prev(".facetwp-checkbox").find(".facetwp-expand").text(FWP_JSON.collapse),e(this).addClass("visible")})})))})}),wp.hooks.addAction("facetwp/refresh/radio",function(t,a){var c=[];t.find(".facetwp-radio.checked").each(function(){c.push(e(this).attr("data-value"))}),FWP.facets[a]=c}),wp.hooks.addFilter("facetwp/selections/radio",function(t,a){var c=[];return e.each(a.selected_values,function(e,t){var o=a.el.find('.facetwp-radio[data-value="'+t+'"]').clone();o.find(".facetwp-counter").remove(),c.push({value:t,label:o.text()})}),c}),e(document).on("click",".facetwp-type-radio .facetwp-radio:not(.disabled)",function(){var t=e(this).hasClass("checked");e(this).closest(".facetwp-facet").find(".facetwp-radio").removeClass("checked"),t||e(this).addClass("checked"),FWP.autoload()}),wp.hooks.addAction("facetwp/refresh/date_range",function(e,t){var a=e.find(".facetwp-date-min").pVal()||"",c=e.find(".facetwp-date-max").pVal()||"";FWP.facets[t]=""!==a||""!==c?[a,c]:[]}),wp.hooks.addFilter("facetwp/selections/date_range",function(e,t){var a=t.selected_values,c=t.el,o="";return""!==a[0]&&(o+=" from "+c.find(".facetwp-date-min").next().val()),""!==a[1]&&(o+=" to "+c.find(".facetwp-date-max").next().val()),o}),e(document).on("facetwp-loaded",function(){var t=e('.facetwp-type-date_range .facetwp-date:not(".ready, .flatpickr-alt")');if(0!==t.length){var a={altInput:!0,altInputClass:"flatpickr-alt",altFormat:"Y-m-d",disableMobile:!0,locale:FWP_JSON.datepicker.locale,onChange:function(){FWP.autoload()},onReady:function(t,a,c){var o=e(c.calendarContainer);o.find(".flatpickr-clear").length<1&&(o.append('<div class="flatpickr-clear">'+FWP_JSON.datepicker.clearText+"</div>"),o.find(".flatpickr-clear").on("click",function(){c.clear(),c.close()}))}};t.each(function(){var t=e(this),c=t.closest(".facetwp-facet").attr("data-name");a.altFormat=FWP.settings[c].format;var o=wp.hooks.applyFilters("facetwp/set_options/date_range",a,{facet_name:c,element:t});new flatpickr(this,o),t.addClass("ready")})}}),wp.hooks.addAction("facetwp/refresh/dropdown",function(e,t){var a=e.find(".facetwp-dropdown").val();FWP.facets[t]=a?[a]:[]}),wp.hooks.addFilter("facetwp/selections/dropdown",function(e,t){return t.el.find(".facetwp-dropdown option:selected").text()}),e(document).on("change",".facetwp-type-dropdown select",function(){var t=e(this).closest(".facetwp-facet");""!==t.find(":selected").val()&&(FWP.static_facet=t.attr("data-name")),FWP.autoload()}),wp.hooks.addAction("facetwp/refresh/fselect",function(t,a){var c=t.find("select").val();null===c||""===c?c=[]:!1===e.isArray(c)&&(c=[c]),FWP.facets[a]=c}),wp.hooks.addFilter("facetwp/selections/fselect",function(e,t){return t.el.find(".fs-label").text()}),e(document).on("facetwp-loaded",function(){e(".facetwp-type-fselect select:not(.ready)").each(function(){var t=e(this).closest(".facetwp-facet").attr("data-name"),a=FWP.settings[t],c=wp.hooks.applyFilters("facetwp/set_options/fselect",{placeholder:a.placeholder,overflowText:a.overflowText,searchText:a.searchText,optionFormatter:function(e){return e=e.replace(/{{/g,'<span class="facetwp-counter">'),e=e.replace(/}}/g,"<span>")}},{facet_name:t});e(this).fSelect(c),e(this).addClass("ready")})}),e(document).on("fs:changed",function(e,t){if(t.classList.contains("multiple")){var a=t.parentNode.getAttribute("data-name");FWP.static_facet=a,FWP.autoload()}}),e(document).on("fs:closed",function(e,t){t.classList.contains("multiple")||FWP.autoload()}),wp.hooks.addAction("facetwp/refresh/hierarchy",function(t,a){var c=[];t.find(".facetwp-link.checked").each(function(){c.push(e(this).attr("data-value"))}),FWP.facets[a]=c}),wp.hooks.addFilter("facetwp/selections/hierarchy",function(e,t){return t.el.find(".facetwp-link.checked").text()}),e(document).on("click",".facetwp-facet .facetwp-link",function(){e(this).closest(".facetwp-facet").find(".facetwp-link").removeClass("checked"),""!==e(this).attr("data-value")&&e(this).addClass("checked"),FWP.autoload()}),e(document).on("click",".facetwp-type-hierarchy .facetwp-toggle",function(){var t=e(this).closest(".facetwp-facet");t.find(".facetwp-toggle").toggleClass("facetwp-hidden"),t.find(".facetwp-overflow").toggleClass("facetwp-hidden")}),wp.hooks.addAction("facetwp/refresh/number_range",function(e,t){var a=e.find(".facetwp-number-min").val()||"",c=e.find(".facetwp-number-max").val()||"";FWP.facets[t]=""!==a||""!==c?[a,c]:[]}),wp.hooks.addFilter("facetwp/selections/number_range",function(e,t){return t.selected_values[0]+" - "+t.selected_values[1]}),e(document).on("click",".facetwp-type-number_range .facetwp-submit",function(){FWP.refresh()});var a,c;e(document).on("facetwp-loaded",function(){var o=e("#facetwp-location");if(!(o.length<1)){if(a=o[0],c=a.addEventListener,a.addEventListener=t,o.parent(".location-wrap").length<1){e(".pac-container").remove(),o.wrap('<span class="location-wrap"></span>'),o.before('<i class="locate-me"></i>');var n=FWP_JSON.proximity.autocomplete_options,s=new google.maps.places.Autocomplete(a,n);google.maps.event.addListener(s,"place_changed",function(){var t=s.getPlace();void 0!==t.geometry&&(e(".facetwp-lat").val(t.geometry.location.lat()),e(".facetwp-lng").val(t.geometry.location.lng()),FWP.autoload())})}o.trigger("keyup")}}),e(document).on("click",".facetwp-type-proximity .locate-me",function(t){var a=e(this),c=e("#facetwp-location"),o=c.closest(".facetwp-facet"),n=e(".facetwp-lat"),s=e(".facetwp-lng");if(a.hasClass("f-reset"))return o.find(".facetwp-lat").val(""),o.find(".facetwp-lng").val(""),o.find("#facetwp-location").val(""),void FWP.autoload();e(".locate-me").addClass("f-loading"),navigator.geolocation.getCurrentPosition(function(t){var a=t.coords.latitude,o=t.coords.longitude;n.val(a),s.val(o);var i=new google.maps.Geocoder,r={lat:parseFloat(a),lng:parseFloat(o)};i.geocode({location:r},function(t,a){a===google.maps.GeocoderStatus.OK?c.val(t[0].formatted_address):c.val("Your location"),e(".locate-me").addClass("f-reset"),FWP.autoload()}),e(".locate-me").removeClass("f-loading")},function(){e(".locate-me").removeClass("f-loading")})}),e(document).on("keyup","#facetwp-location",function(){""===e(this).val()?e(".locate-me").removeClass("f-reset"):e(".locate-me").addClass("f-reset")}),e(document).on("change","#facetwp-radius",function(){""!==e("#facetwp-location").val()&&FWP.autoload()}),wp.hooks.addAction("facetwp/refresh/proximity",function(e,t){var a=e.find(".facetwp-lat").val(),c=e.find(".facetwp-lng").val(),o=e.find("#facetwp-radius").val(),n=encodeURIComponent(e.find("#facetwp-location").val());FWP.facets[t]=""!==a&&void 0!==a?[a,c,o,n]:[]}),wp.hooks.addFilter("facetwp/selections/proximity",function(e,t){return FWP_JSON.proximity.clearText}),wp.hooks.addAction("facetwp/refresh/search",function(e,t){var a=e.find(".facetwp-search").val()||"";FWP.facets[t]=a}),e(document).on("facetwp-loaded",function(){e(".facetwp-search").trigger("keyup")}),e(document).on("keyup",".facetwp-facet .facetwp-search",function(t){var a=e(this).closest(".facetwp-facet");""===e(this).val()?a.find(".facetwp-btn").removeClass("f-reset"):a.find(".facetwp-btn").addClass("f-reset"),13===t.keyCode&&(""===a.find(".facetwp-search").val()?a.find(".facetwp-btn").click():FWP.autoload())}),e(document).on("click",".facetwp-type-search .facetwp-btn",function(t){var a=e(this),c=a.closest(".facetwp-facet"),o=c.attr("data-name");(a.hasClass("f-reset")||""===c.find(".facetwp-search").val())&&(c.find(".facetwp-search").val(""),FWP.facets[o]=[],FWP.set_hash(),FWP.fetch_data())}),wp.hooks.addAction("facetwp/refresh/slider",function(e,t){FWP.facets[t]=[],void 0!==FWP.used_facets[t]&&void 0!==e.find(".facetwp-slider")[0].noUiSlider&&(FWP.facets[t]=e.find(".facetwp-slider")[0].noUiSlider.get())}),wp.hooks.addAction("facetwp/set_label/slider",function(e){var t=e.attr("data-name"),a=FWP.settings[t].lower,c=FWP.settings[t].upper,o=FWP.settings[t].format,n={decimal_separator:FWP.settings[t].decimal_separator,thousands_separator:FWP.settings[t].thousands_separator};if(a===c)var s=FWP.settings[t].prefix+nummy(a).format(o,n)+FWP.settings[t].suffix;else s=FWP.settings[t].prefix+nummy(a).format(o,n)+FWP.settings[t].suffix+" &mdash; "+FWP.settings[t].prefix+nummy(c).format(o,n)+FWP.settings[t].suffix;e.find(".facetwp-slider-label").html(s)}),wp.hooks.addFilter("facetwp/selections/slider",function(e,t){return t.el.find(".facetwp-slider-label").text()}),e(document).on("facetwp-loaded",function(){e(".facetwp-slider:not(.ready)").each(function(){var t=e(this).closest(".facetwp-facet"),a=t.attr("data-name"),c=FWP.settings[a];if(!1!==FWP.helper.get_url_var(a)&&(FWP.used_facets[a]=!0),void 0===e(this).data("options")&&null!==FWP.settings[a].start[0]){if(parseFloat(c.range.min)>=parseFloat(c.range.max))return FWP.settings[a].lower=c.range.min,FWP.settings[a].upper=c.range.max,void wp.hooks.doAction("facetwp/set_label/slider",t);var o=wp.hooks.applyFilters("facetwp/set_options/slider",{range:c.range,start:c.start,step:parseFloat(c.step),connect:!0},{facet_name:a}),n=e(this)[0];noUiSlider.create(n,o),n.noUiSlider.on("update",function(e,c){FWP.settings[a].lower=e[0],FWP.settings[a].upper=e[1],wp.hooks.doAction("facetwp/set_label/slider",t)}),n.noUiSlider.on("set",function(){FWP.used_facets[a]=!0,FWP.autoload()}),e(this).addClass("ready")}}),e(".facetwp-type-slider").each(function(){var t=e(this).attr("data-name"),a=e(this).find(".facetwp-slider-reset");e.isEmptyObject(FWP.facets[t])?a.hide():a.show()})}),e(document).on("click",".facetwp-slider-reset",function(){var t=e(this).closest(".facetwp-facet").attr("data-name");delete FWP.used_facets[t],FWP.refresh()})}(jQuery),{});
